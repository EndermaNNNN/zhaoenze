# web21

- 这道题主要考的是 PHP 的上传检测绕过

- 主要涉及三个知识点：

    - `==` 是弱比较，这一点不同于大部分编程语言。PHP中，字符串==0，带数字的字符串==字符串中第一个数字，所有 `id=abc` 。

        - `1ab == 1` 
        - `0ab == 0`
        - `abc == 0`

    - `file_get_contents()` 只接收从文件（本质上是文件**输入流**）读取的字符串，这意味着上传的 `$a` 必须是输入流式的内容，这里就需要用到 `php://input` 伪协议，也就是 `a=php://input` ，并且请求报文的 body 部分应该加上 `bugku is a nice plateform!`。

    - `字符匹配的绕过` ，实际上涉及到两个不同的知识点：

        - `%00` 字符可以使待匹配的字符串直接=true，跳过正则匹配截断：

            - `substr($b,0,1)!=4` 中的b如果取 `%0044444` ，则此句事实上是： 

                - `%00!=4`

                - `%00=true`

        - `*` 和 `?` 是通配符，可以匹配任何字符，这意味着：

            - `substr($b,0,1)!=4` 中的b如果取 `*44444` ，则此句事实上是： 

                - `*!=4`

                - `?!=4`

            - 此处存疑的一点：是否通配符无论是 `==` 还是 `!=` 都会返回 true ？