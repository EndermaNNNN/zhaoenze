# 第四章实验注意点

## 任务一

- 质量压缩：使用 ```mogrify -quality``` ，它和 ```convert -quality``` 的区别在于，它不会生成新的文件，而是会覆盖掉原来的文件。

- 分辨率压缩：使用 ```mogrify -resize``` 

- ```resize``` 是保持宽高比同时降低图像大小， ```quality```是降低图像质量，.jpg默认质量是99，.png默认质量是75。

- 添加自定义水印：使用 ```convert -fill white -pointsize 24 -draw "text 10,15 $watermark " $imgs $imgs ``` 完成，在左上角写上自定义的水印内容，将来可以做得更美观一些。

- 批量重命名：使用 ```mv old new``` 语句，拼接完名称后直接覆盖原来的即可，提供了在名称前加和在名称末尾加两种加法。

- 批量更改格式：使用 ```convert $imgs ${file%%.*}.jpg``` ，直接调库实现从png和svg到jpg的变换，这里才了一个小坑：

    ```for imgs in $(ls $path | ( grep "$type2" || grep "$type3"))```

    这一句中， ```(grep || grep)``` 的括号不能丢， ```|``` 表示的是管道，前面执行完了再执行后面的，这意味着后面两个grep是一起运算的，必须括起来。

- 尚存在的问题（容易解决）：

    - 把脚本放在图片文件夹内不能运行，因为相对路径会出错，之后要用判断解决。

    - 脚本还没写成函数形式，记得改掉。